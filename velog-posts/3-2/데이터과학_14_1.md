<h1 id="ğŸ“Œ-visualization-ggplot">ğŸ“Œ Visualization-ggplot</h1>
<p><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/828a0b96-bd78-4ed4-b3de-7e282cf2a1c1/image.png" /></p>
<h2 id="ggplot2">ggplot2</h2>
<ul>
<li><p>ggplot()í•¨ìˆ˜ëŠ” ì•ì—ì„œ ì„¤ëª…í•œ ê³ ìˆ˜ì¤€, ì €ìˆ˜ì¤€ ì‘ë„ë¥¼ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ê°œë°œëœ íŒ¨í‚¤ì§€</p>
</li>
<li><p>Advantages of ggplot2
consistent underlying grammar of graphics (Wilkinson, 2005)
plot specification at a high level of abstraction
very flexible
theme system for polishing plot appearance
mature and complete graphics system
many users, active mailing list</p>
</li>
</ul>
<blockquote>
<h3 id="ê°€ë³¸-syntax">ê°€ë³¸ syntax</h3>
<p>library(ggplot2)
ggplot(df, aes(x=xì¶• ë°ì´í„°, y=yì¶• ë°ì´í„°)) + geom_í•¨ìˆ˜</p>
</blockquote>
<ul>
<li>In ggplot landÂ aestheticÂ means "something you can see".<ul>
<li>geom_í•¨ìˆ˜
geom_bar()
geom_line()
geom_point() 
geom_histogram()
labs()
facet_wrap()</li>
</ul>
</li>
</ul>
<hr />
<h2 id="ex">Ex</h2>
<pre><code class="language-py">data &lt;- read.csv("../mydata/ê²½ê¸°ë„ í™”ì„±ì‹œ_ê´€ê´‘í†µê³„_20231025.csv",fileEncoding="CP949")

data</code></pre>
<pre><code class="language-py"># ggplot ê°ì²´ ìƒì„±
p &lt;- ggplot(data, aes(x = ë²ˆí˜¸, y = ê³µë£¡ì•Œí™”ì„ì‚°ì§€))

# ì  ì¶”ê°€
p &lt;- p + geom_point(fill = 'red', color = 'blue', shape = 21, size = 4)

# ìµœì¢… í”Œë¡¯ ì¶œë ¥
p + geom_line(color='blue', linetype=2)</code></pre>
<p><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/f9bc1a05-a959-457a-9804-4c367fe7a11f/image.png" /></p>
<h2 id="ğŸ“Œ-ë§‰ëŒ€ê·¸ë˜í”„---ë¹ˆë„ìˆ˜ë¥¼-ë†’ì´ë¡œ">ğŸ“Œ ë§‰ëŒ€ê·¸ë˜í”„- ë¹ˆë„ìˆ˜ë¥¼ ë†’ì´ë¡œ</h2>
<ul>
<li>aes(ë³€ìˆ˜ 1ê°œ)
cylì€ ìˆ«ìë³€ìˆ˜ë¡œ ì—°ì†í˜• - factor()ë¡œ ë²”ì£¼í˜•ìœ¼ë¡œ ë³€í™˜</li>
<li>ê¸°ë³¸ barplotì—ì„œëŠ” table()ì˜ ê²°ê³¼ê°€ ìˆì—ˆì–´ì•¼ í•¨.</li>
<li>fillì€ ë‚´ë¶€ ìƒ‰ìƒ</li>
<li>colorëŠ” í…Œë‘ë¦¬</li>
<li>widthëŠ” ë§‰ëŒ€ì˜ ë„ˆë¹„</li>
<li>linewidthëŠ” ì„  ë‘ê»˜</li>
</ul>
<table>
<thead>
<tr>
<th><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/22ae1939-4709-4a46-83cb-af857d8a06af/image.png" /></th>
<th><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/8f33dbf7-820b-45d3-80a3-4cdd1b8aef18/image.png" /></th>
</tr>
</thead>
</table>
<ul>
<li>fill=ë²”ì£¼í˜•:  ë²”ì£¼í˜• ìë£Œì˜ ê°’ì— ë”°ë¼ ë‹¤ë¥¸ ìƒ‰ìƒ â€“ - - aes ì•ˆì—ì„œ ì§€ì •</li>
<li>table(x, y)ì˜ ê²°ê³¼ í•„ìš” ì—†ìŒ.</li>
<li>coord_flip() ì¢Œí‘œì¶• íšŒì „</li>
<li>ë‹¤ë¥¸ ê·¸ë˜í”„ì—ì„œ ì ìš© ê°€ëŠ¥</li>
<li>position=â€˜dodgeâ€™ ì‚¬ìš©</li>
</ul>
<table>
<thead>
<tr>
<th><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/26c0de2d-7693-4b01-8c25-a1c40575e346/image.png" /></th>
<th><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/1991806c-ed4b-4041-9686-762424902dd7/image.png" /></th>
<th><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/34cc9806-74ec-4677-919e-2393bb8a85e9/image.png" /></th>
</tr>
</thead>
</table>
<pre><code class="language-py">```py
p &lt;- ggplot(mtcars, aes(factor(cyl), fill=factor(gear)))
p + geom_bar()</code></pre>
<pre><code class="language-py">p &lt;- ggplot(mtcars, aes(factor(cyl), fill=factor(gear)))
p &lt;- p + geom_bar()
p + coord_flip()</code></pre>
<pre><code class="language-py">p &lt;- ggplot(mtcars, aes(factor(cyl), fill=factor(gear)))
p &lt;- p + geom_bar(position = 'dodge')
p</code></pre>
<h2 id="ğŸ“Œ-ë§‰ëŒ€ê·¸ë˜í”„---í‰ê· ì„-ë†’ì´ë¡œ-ìˆ˜ì§ëˆ„ì -ë§‰ëŒ€ê·¸ë˜í”„--ë‘-ê·¸ë£¹ë³„-í‰ê· ">ğŸ“Œ ë§‰ëŒ€ê·¸ë˜í”„ - í‰ê· ì„ ë†’ì´ë¡œ, ìˆ˜ì§ëˆ„ì  ë§‰ëŒ€ê·¸ë˜í”„- ë‘ ê·¸ë£¹ë³„ í‰ê· </h2>
<ul>
<li>ê·¸ë£¹ë³„ í‰ê· ì„ êµ¬í•  ë•Œ tapplyë³´ë‹¤ëŠ” summaryByë¥¼ ì´ìš©(ë°ì´í„°í”„ë ˆì„ í•„ìš”)</li>
<li>aes(ë³€ìˆ˜ 1ê°œ)</li>
<li>ë§‰ëŒ€ê·¸ë˜í”„ì˜ yì¶•ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì£¼ì–´ì§„ ë³€ìˆ˜ì˜ count(ë¹ˆë„ìˆ˜)</li>
<li>ì˜ˆì œì²˜ëŸ¼  cylì— ë”°ë¥¸ mpgì˜ í‰ê· ì„ ë†’ì´ë¡œ ì§€ì •í•  ë•ŒëŠ” ë‘ ë³€ìˆ˜ë¥¼ ëª¨ë‘ ì§€ì •í•˜ê³ , ì˜µì…˜stat=â€˜identityâ€™ ì§€ì •</li>
<li>ë°ì´í„° mtcarsì—ì„œ ë‘ ë³€ìˆ˜ cylê³¼ gearì˜ ê° ê·¸ë£¹ë³„ í‰ê·  êµ¬í•˜ê¸°</li>
<li>geom_bar()</li>
<li>stat=â€˜identityâ€™ ì˜µì…˜ ì‚¬ìš©</li>
</ul>
<table>
<thead>
<tr>
<th><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/f940b578-771a-4ed6-965b-8e74b9d95d94/image.png" /></th>
<th><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/86c17dc5-ee8b-40a2-b646-c289909cc9b8/image.png" /></th>
</tr>
</thead>
</table>
<pre><code class="language-py">library(doBy)
tbl &lt;- summaryBy(mpg ~ cyl, data=mtcars, FUN=mean)
tbl

p &lt;- ggplot(tbl, aes(factor(cyl), mpg.mean))
p + geom_bar(stat='identity', fill='gold', color='red')</code></pre>
<pre><code class="language-py">library(doBy)
tbl &lt;- summaryBy(mpg ~ cyl+gear, data=mtcars, FUN=mean)
tbl

p &lt;- ggplot(tbl, aes(factor(cyl), mpg.mean, fill=factor(gear)))
p + geom_bar(stat='identity')</code></pre>
<h2 id="ìˆ˜í‰ëˆ„ì -ë§‰ëŒ€ê·¸ë˜í”„">ìˆ˜í‰ëˆ„ì  ë§‰ëŒ€ê·¸ë˜í”„</h2>
<p>-ë°ì´í„° mtcarsì—ì„œ ë‘ ë³€ìˆ˜ cylê³¼ gearì˜ ê° ê·¸ë£¹ë³„ í‰ê·  êµ¬í•˜ê¸°</p>
<ul>
<li>geom_col() ì‚¬ìš©</li>
<li>position=â€˜dodgeâ€™ ì˜µì…˜ ì‚¬ìš©</li>
</ul>
<table>
<thead>
<tr>
<th><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/b51b2bd9-bfea-4375-a6d5-9a18b83528ce/image.png" /></th>
<th><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/8b88640d-6551-4563-a449-2adb828c8ed3/image.png" /></th>
</tr>
</thead>
</table>
<h1 id="ğŸ“Œ-ì‹œê³„ì—´-ê·¸ë˜í”„_-geom_line">ğŸ“Œ ì‹œê³„ì—´ ê·¸ë˜í”„_ geom_line()</h1>
<h2 id="êº½ì€ì„ -ê·¸ë˜í”„--no-ì˜µì…˜">êº½ì€ì„  ê·¸ë˜í”„ â€“ no ì˜µì…˜</h2>
<ul>
<li>aes(x, y) ìˆœì„œë¡œ</li>
<li>geom_line(): ì„ ì¶”ê°€</li>
<li>geom_point(): ì ì¶”ê°€</li>
<li>colorëŠ” ìƒ‰ìƒ</li>
<li>shape: ì ëª¨ì–‘</li>
<li>size: ì  í¬ê¸°</li>
<li>linetype: ì„ ëª¨ì–‘</li>
<li>linewidth:ì„  êµµê¸°</li>
</ul>
<table>
<thead>
<tr>
<th><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/602c5d2c-e6c3-4a42-95b2-4f3230ac6e20/image.png" /></th>
<th><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/523d81d5-6f2f-4977-be1d-ac5fb826bf07/image.png" /></th>
</tr>
</thead>
</table>
<blockquote>
<h2 id="ì ëª¨ì–‘">ì ëª¨ì–‘</h2>
<p>shape = ë²ˆí˜¸ (plotì—ì„œëŠ” pch)
<img alt="" src="https://velog.velcdn.com/images/mi_nini/post/02ede2e6-c450-4ae7-9e6f-e709610d2d05/image.png" /></p>
</blockquote>
<blockquote>
<p>ì„  ëª¨ì–‘: plotì—ì„œëŠ” lty, ggplotì—ì„œëŠ” linetype</p>
</blockquote>
<blockquote>
<table>
<thead>
<tr>
<th>ì¸ ìˆ˜</th>
<th>ì„¤ëª…</th>
</tr>
</thead>
<tbody><tr>
<td><code>linetype=0</code></td>
<td>íˆ¬ëª…ì„ </td>
</tr>
<tr>
<td><code>linetype=1</code></td>
<td>ì‹¤ì„ </td>
</tr>
<tr>
<td><code>linetype=2</code></td>
<td>ëŒ€ì‹œì„ </td>
</tr>
<tr>
<td><code>linetype=3</code></td>
<td>ì ì„ </td>
</tr>
<tr>
<td><code>linetype=4</code></td>
<td>ì ì„ ê³¼ ëŒ€ì‹œì„ </td>
</tr>
<tr>
<td><code>linetype=5</code></td>
<td>ê¸´ ëŒ€ì‹œì„ </td>
</tr>
<tr>
<td><code>linetype=6</code></td>
<td>2ê°œì˜ ëŒ€ì‹œì„ </td>
</tr>
</tbody></table>
</blockquote>
<h1 id="ğŸ’»-ex_ì—¬ëŸ¬-ê·¸ë˜í”„ë¥¼-í•œ-í™”ë©´ì—">ğŸ’» Ex_ì—¬ëŸ¬ ê·¸ë˜í”„ë¥¼ í•œ í™”ë©´ì—</h1>
<pre><code class="language-py"># ë°ì´í„°ì¤€ë¹„
library(dplyr)

data &lt;- read.csv("../mydata/ë„ë¡œêµí†µê³µë‹¨_ì‹œêµ°êµ¬ë³„ ì›”ë³„ êµí†µì‚¬ê³  í†µê³„_20231231.csv",
                 fileEncoding="CP949")

chungju &lt;- filter(data, ì‹œêµ°êµ¬=="ì¶©ì£¼ì‹œ")
cheongju &lt;- filter(data, ì‹œêµ°êµ¬=="ì²­ì£¼ì‹œ")
jecheon &lt;- filter(data, ì‹œêµ°êµ¬=="ì œì²œì‹œ")

chungju</code></pre>
<pre><code class="language-py">p &lt;- ggplot()
p &lt;- p + geom_line(data= chungju, aes(ë°œìƒì›”, ì‚¬ê³ ê±´ìˆ˜), color='red') + 
    geom_point(data=chungju, aes(ë°œìƒì›”, ì‚¬ê³ ê±´ìˆ˜), color='red')
p</code></pre>
<table>
<thead>
<tr>
<th><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/bc27ea0f-8698-4323-98ad-988722a8df8d/image.png" /></th>
<th><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/585baa60-975b-43ac-8e38-f7ef69836164/image.png" /></th>
</tr>
</thead>
</table>
<h1 id="ğŸ’»-ex_ê·¸ë£¹-ë³€ìˆ˜ë¡œ-ê·¸ë˜í”„-ë‚˜ëˆ„ì–´-ê·¸ë¦¬ê¸°">ğŸ’» EX_ê·¸ë£¹ ë³€ìˆ˜ë¡œ ê·¸ë˜í”„ ë‚˜ëˆ„ì–´ ê·¸ë¦¬ê¸°</h1>
<pre><code class="language-py"># ë°ì´í„° ì¤€ë¹„
library(dplyr)

cb &lt;- data %&gt;%
    filter(ì‹œë„=='ì¶©ë¶') %&gt;%
    filter(grepl('ì‹œ$', ì‹œêµ°êµ¬)) %&gt;%
    select(ë°œìƒì›”, ì‹œêµ°êµ¬, ì‚¬ê³ ê±´ìˆ˜)

head(cb)

table(cb$`ì‹œêµ°êµ¬`)</code></pre>
<pre><code class="language-py"># 1ë²ˆì¨° ê·¸ë¦¼
library(dplyr)

cb &lt;- data %&gt;%
    filter(ì‹œë„=='ì¶©ë¶') %&gt;%
    filter(grepl('ì‹œ$', ì‹œêµ°êµ¬)) %&gt;%
    select(ë°œìƒì›”, ì‹œêµ°êµ¬, ì‚¬ê³ ê±´ìˆ˜)

head(cb)

table(cb$`ì‹œêµ°êµ¬`)

p &lt;- ggplot(cb, aes(ë°œìƒì›”, ì‚¬ê³ ê±´ìˆ˜,
    color=ì‹œêµ°êµ¬, shape=ì‹œêµ°êµ¬, linetype=ì‹œêµ°êµ¬))
p + geom_point() + geom_line()</code></pre>
<pre><code class="language-py"># 2ë²ˆì§¸ ê·¸ë¦¼
gang &lt;- data %&gt;%
    filter(ì‹œë„=='ì„œìš¸') %&gt;%
    filter(grepl('^ê°•', ì‹œêµ°êµ¬)) %&gt;%
    select(ë°œìƒì›”, ì‹œêµ°êµ¬, ì‚¬ê³ ê±´ìˆ˜)

head(cb)
p &lt;- ggplot(gang, aes(ë°œìƒì›”, ì‚¬ê³ ê±´ìˆ˜,
    color=ì‹œêµ°êµ¬, shape=ì‹œêµ°êµ¬, linetype=ì‹œêµ°êµ¬))
p + geom_point() + geom_line()</code></pre>
<table>
<thead>
<tr>
<th><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/236e5855-5351-4ecc-82b1-ee9cbb73adc8/image.png" /></th>
<th><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/b8d5fd4b-9174-47ff-989c-21492c9122de/image.png" /></th>
</tr>
</thead>
</table>
<h1 id="ğŸ“Œ-ì‚°ì ë„-ê·¸ë¦¬ê¸°--geom_point">ğŸ“Œ ì‚°ì ë„ ê·¸ë¦¬ê¸°- geom_point()</h1>
<h2 id="ë°ì´í„°-mtcars--ê¸°ë³¸-ì‘ë„">ë°ì´í„° mtcars- ê¸°ë³¸ ì‘ë„</h2>
<ul>
<li>wtëŠ” ì°¨ì˜ ë¬´ê²Œ</li>
<li>mpgëŠ” ì—°ë¹„</li>
<li>cylëŠ” ì‹¤ë¦°ë”ì˜ ê°œìˆ˜(ì—°ì†í˜•ì„ ë²”ì£¼í˜•ìœ¼ë¡œ ë³€í™˜)</li>
<li>pchëŠ” ì ì˜ ëª¨ì–‘</li>
<li>cexëŠ” ì ì˜ í¬ê¸°</li>
<li>ggplot()ìœ¼ë¡œ ê·¸ë¦¼ ì¤€ë¹„</li>
<li>geom_point()ë¡œ ì  ê·¸ë¦¬ê¸°</li>
<li>color: ìƒ‰ìƒ</li>
<li>size: í¬ê¸°</li>
<li>shape: ì ì˜ ëª¨ì–‘</li>
<li>ë³€ìˆ˜ì˜ ê°’ì— ë”°ë¼ ì§€ì •í•˜ë ¤ë©´ aes() ì•ˆì—</li>
</ul>
<table>
<thead>
<tr>
<th><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/7c9823da-414a-45ad-949a-c4a9259ded44/image.png" /></th>
<th><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/e51f86f1-59ea-49d8-b0b5-d41a0d43088e/image.png" /></th>
<th><img alt="" src="https://velog.velcdn.com/images/mi_nini/post/34229631-721d-45e5-a145-dec721b5636f/image.png" /></th>
</tr>
</thead>
</table>